<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=divice-width, minimum-scale=1, initial-scale=1">
		<title>被操的陈继续豪</title>
	</head>
	<body style="margin:0;text-align:center">
		<canvas id="canvas" style="display:block;position:fixed;background:#000" width="400" height="400"></canvas>
<script type="text/javascript">
var resize = function ()
{
	var mWidth = window.innerWidth, mHeight = window.innerHeight, minSize = Math.min(mWidth, mHeight);
	var style = canvas.style;
	style.width = style.height = minSize + "px";
	if (mWidth > mHeight)
	{
		style.top = "0px";
		style.left = (mWidth - mHeight) / 2 + "px";
	}
	else
	{
		style.left = "0px";
		style.top = (mHeight - mWidth) / 2 + "px";
	}
};
window.addEventListener("resize", resize);

var canvas = document.getElementById("canvas"), ctx = canvas.getContext("2d");
resize();

var time = new Date().valueOf();
var y = 0, isDown = true;
var head = new Image(), body = new Image(), dick = new Image();
head.src = "head";
body.src = "body";
dick.src = "kunbar";
function update()
{
	var delta = (new Date().valueOf() - time) / 1000, speed = delta * window.speed;
	time = new Date().valueOf();
	ctx.clearRect(0, 0, 400, 400);
	y += (isDown ? -1 : 1) * delta * (1000 - y)
	if (y < 0)
	{
		y = 0;
	}
	isDown = y >= 140 ? true : isDown;
	ctx.drawImage(dick, 160, 240, 80, 160);
	ctx.drawImage(head, 150, 100 - y, 100, 100);
	ctx.drawImage(body, 0, 200 - y, 400, 200);
	requestAnimationFrame(update);
}

canvas.onclick = function(eve)
{
	isDown = false;
};

update();
</script>
	</body>
</html>
